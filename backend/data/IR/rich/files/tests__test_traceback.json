{
  "path": "C:\\CODEIQNEW\\backend\\data\\rich\\tests\\test_traceback.py",
  "imports": [
    "import io",
    "import re",
    "import sys",
    "from typing import List",
    "import pytest",
    "from rich.console import Console",
    "from rich.theme import Theme",
    "from rich.traceback import Traceback, install"
  ],
  "classes": [
    {
      "name": "BrokenStr",
      "base_classes": "(Exception)",
      "docstring": null,
      "methods": []
    }
  ],
  "functions": [
    {
      "name": "test_handler",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "io.StringIO",
        "pytest.fail",
        "install",
        "sys.exc_info",
        "sys.excepthook",
        "Console",
        "console.file.getvalue",
        "re.finditer",
        "level1",
        "frame_start.start",
        "repr",
        "print",
        "len",
        "level2"
      ],
      "variables": [
        "console",
        "expected_old_handler",
        "old_handler",
        "rendered_exception",
        "frame_blank_line_possible_preambles",
        "frame_start_index"
      ],
      "start_line": 13,
      "end_line": 60
    },
    {
      "name": "level1",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "level2"
      ],
      "variables": [],
      "start_line": 17,
      "end_line": 18
    },
    {
      "name": "level2",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [],
      "variables": [],
      "start_line": 20,
      "end_line": 21
    },
    {
      "name": "test_capture",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "Traceback"
      ],
      "variables": [
        "tb"
      ],
      "start_line": 63,
      "end_line": 68
    },
    {
      "name": "test_no_exception",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "pytest.raises",
        "Traceback"
      ],
      "variables": [
        "tb"
      ],
      "start_line": 71,
      "end_line": 73
    },
    {
      "name": "get_exception",
      "parameters": [],
      "return_type": "Traceback",
      "docstring": null,
      "calls": [
        "foo",
        "print",
        "Traceback",
        "bar"
      ],
      "variables": [
        "tb"
      ],
      "start_line": 76,
      "end_line": 90
    },
    {
      "name": "bar",
      "parameters": [
        {
          "name": "a",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "print"
      ],
      "variables": [],
      "start_line": 77,
      "end_line": 78
    },
    {
      "name": "foo",
      "parameters": [
        {
          "name": "a",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "bar"
      ],
      "variables": [],
      "start_line": 80,
      "end_line": 81
    },
    {
      "name": "test_print_exception",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "Console",
        "io.StringIO",
        "console.file.getvalue",
        "console.print_exception"
      ],
      "variables": [
        "console",
        "exception_text"
      ],
      "start_line": 93,
      "end_line": 100
    },
    {
      "name": "test_print_exception_no_msg",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "Console",
        "io.StringIO",
        "console.file.getvalue",
        "console.print_exception"
      ],
      "variables": [
        "console",
        "exception_text"
      ],
      "start_line": 103,
      "end_line": 111
    },
    {
      "name": "test_print_exception_locals",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "io.StringIO",
        "Console",
        "console.file.getvalue",
        "console.print_exception",
        "print"
      ],
      "variables": [
        "console",
        "exception_text"
      ],
      "start_line": 114,
      "end_line": 124
    },
    {
      "name": "test_syntax_error",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "io.StringIO",
        "Console",
        "eval",
        "console.file.getvalue",
        "console.print_exception"
      ],
      "variables": [
        "console",
        "exception_text"
      ],
      "start_line": 127,
      "end_line": 135
    },
    {
      "name": "test_nested_exception",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "io.StringIO",
        "Console",
        "ValueError",
        "exception_text.find",
        "console.file.getvalue",
        "console.print_exception"
      ],
      "variables": [
        "console",
        "value_error_message",
        "exception_text",
        "text_should_contain"
      ],
      "start_line": 138,
      "end_line": 162
    },
    {
      "name": "test_caused_exception",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "io.StringIO",
        "Console",
        "ValueError",
        "exception_text.find",
        "console.file.getvalue",
        "console.print_exception"
      ],
      "variables": [
        "console",
        "value_error_message",
        "exception_text",
        "text_should_contain"
      ],
      "start_line": 165,
      "end_line": 189
    },
    {
      "name": "test_filename_with_bracket",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "exec",
        "io.StringIO",
        "Console",
        "console.print_exception",
        "console.file.getvalue",
        "compile"
      ],
      "variables": [
        "console",
        "exception_text"
      ],
      "start_line": 192,
      "end_line": 199
    },
    {
      "name": "test_filename_not_a_file",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "exec",
        "io.StringIO",
        "Console",
        "console.print_exception",
        "console.file.getvalue",
        "compile"
      ],
      "variables": [
        "console",
        "exception_text"
      ],
      "start_line": 202,
      "end_line": 209
    },
    {
      "name": "test_traceback_console_theme_applies",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "console.begin_capture",
        "console.end_capture",
        "Theme",
        "Console",
        "console.print_exception",
        "repr"
      ],
      "variables": [
        "console",
        "result"
      ],
      "start_line": 213,
      "end_line": 233
    },
    {
      "name": "test_broken_str",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "io.StringIO",
        "Console",
        "BrokenStr",
        "console.file.getvalue",
        "console.print_exception",
        "print"
      ],
      "variables": [
        "console",
        "result"
      ],
      "start_line": 236,
      "end_line": 248
    },
    {
      "name": "__str__",
      "parameters": [
        {
          "name": "self",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [],
      "variables": [],
      "start_line": 238,
      "end_line": 239
    },
    {
      "name": "test_guess_lexer",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "Traceback._guess_lexer"
      ],
      "variables": [
        "code_python"
      ],
      "start_line": 251,
      "end_line": 255
    },
    {
      "name": "test_guess_lexer_yaml_j2",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "Traceback._guess_lexer"
      ],
      "variables": [
        "code"
      ],
      "start_line": 258,
      "end_line": 265
    },
    {
      "name": "test_recursive",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "io.StringIO",
        "result.count",
        "Console",
        "console.print_exception",
        "console.file.getvalue",
        "foo",
        "bar",
        "print"
      ],
      "variables": [
        "console",
        "result"
      ],
      "start_line": 268,
      "end_line": 283
    },
    {
      "name": "foo",
      "parameters": [
        {
          "name": "n",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "bar"
      ],
      "variables": [],
      "start_line": 269,
      "end_line": 270
    },
    {
      "name": "bar",
      "parameters": [
        {
          "name": "n",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "foo"
      ],
      "variables": [],
      "start_line": 272,
      "end_line": 273
    },
    {
      "name": "test_suppress",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "len",
        "Traceback"
      ],
      "variables": [
        "traceback"
      ],
      "start_line": 286,
      "end_line": 293
    },
    {
      "name": "test_rich_traceback_omit_optional_local_flag",
      "parameters": [
        {
          "name": null,
          "type": "bool"
        },
        {
          "name": null,
          "type": "int"
        },
        {
          "name": null,
          "type": "List[str]"
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "sys.exc_info",
        "level1",
        "level3",
        "len",
        "Traceback.from_exception",
        "level2"
      ],
      "variables": [
        "_rich_traceback_omit",
        "trace",
        "frames",
        "frame_names"
      ],
      "start_line": 305,
      "end_line": 329
    },
    {
      "name": "level1",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "level2"
      ],
      "variables": [],
      "start_line": 310,
      "end_line": 311
    },
    {
      "name": "level2",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "level3"
      ],
      "variables": [
        "_rich_traceback_omit"
      ],
      "start_line": 313,
      "end_line": 316
    },
    {
      "name": "level3",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [],
      "variables": [],
      "start_line": 318,
      "end_line": 319
    },
    {
      "name": "test_traceback_finely_grained_missing",
      "parameters": [],
      "return_type": "None",
      "docstring": null,
      "calls": [
        "Traceback"
      ],
      "variables": [
        "traceback",
        "last_instruction"
      ],
      "start_line": 335,
      "end_line": 342
    },
    {
      "name": "test_traceback_finely_grained",
      "parameters": [],
      "return_type": "None",
      "docstring": null,
      "calls": [
        "isinstance",
        "print",
        "Traceback",
        "len"
      ],
      "variables": [
        "traceback",
        "last_instruction"
      ],
      "start_line": 348,
      "end_line": 360
    },
    {
      "name": "test_notes",
      "parameters": [],
      "return_type": "None",
      "docstring": null,
      "calls": [
        "Traceback",
        "error.add_note"
      ],
      "variables": [
        "traceback"
      ],
      "start_line": 366,
      "end_line": 375
    },
    {
      "name": "test_recursive_exception",
      "parameters": [],
      "return_type": "None",
      "docstring": null,
      "calls": [
        "RuntimeError",
        "Console",
        "console.print_exception",
        "foo",
        "bar"
      ],
      "variables": [
        "console"
      ],
      "start_line": 378,
      "end_line": 399
    },
    {
      "name": "foo",
      "parameters": [],
      "return_type": "None",
      "docstring": null,
      "calls": [
        "RuntimeError"
      ],
      "variables": [],
      "start_line": 386,
      "end_line": 390
    },
    {
      "name": "bar",
      "parameters": [],
      "return_type": "None",
      "docstring": null,
      "calls": [
        "console.print_exception",
        "foo"
      ],
      "variables": [],
      "start_line": 392,
      "end_line": 397
    }
  ],
  "variables": [
    "console",
    "expected_old_handler",
    "old_handler",
    "rendered_exception",
    "frame_blank_line_possible_preambles",
    "frame_start_index",
    "tb",
    "tb",
    "tb",
    "console",
    "exception_text",
    "console",
    "exception_text",
    "console",
    "exception_text",
    "console",
    "exception_text",
    "console",
    "value_error_message",
    "exception_text",
    "text_should_contain",
    "console",
    "value_error_message",
    "exception_text",
    "text_should_contain",
    "console",
    "exception_text",
    "console",
    "exception_text",
    "console",
    "result",
    "console",
    "result",
    "code_python",
    "code",
    "console",
    "result",
    "traceback",
    "_rich_traceback_omit",
    "trace",
    "frames",
    "frame_names",
    "traceback",
    "last_instruction",
    "traceback",
    "last_instruction",
    "traceback",
    "console"
  ]
}