{
  "path": "C:\\CODEIQNEW\\backend\\data\\rich\\tests\\test_win32_console.py",
  "imports": [
    "import dataclasses",
    "import sys",
    "from unittest import mock",
    "from unittest.mock import patch",
    "import pytest",
    "from rich.style import Style",
    "from rich import _win32_console",
    "from rich._win32_console import COORD, LegacyWindowsTerm, WindowsCoordinates"
  ],
  "classes": [
    {
      "name": "StubScreenBufferInfo",
      "base_classes": null,
      "docstring": null,
      "methods": []
    }
  ],
  "functions": [
    {
      "name": "test_windows_coordinates_to_ctype",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "WindowsCoordinates.from_param",
        "WindowsCoordinates"
      ],
      "variables": [
        "coord"
      ],
      "start_line": 30,
      "end_line": 33
    },
    {
      "name": "win32_handle",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "mock.patch.object"
      ],
      "variables": [
        "handle"
      ],
      "start_line": 36,
      "end_line": 39
    },
    {
      "name": "win32_console_getters",
      "parameters": [],
      "return_type": null,
      "docstring": null,
      "calls": [
        "mock.patch.object"
      ],
      "variables": [],
      "start_line": 42,
      "end_line": 57
    },
    {
      "name": "stub_console_cursor_info",
      "parameters": [
        {
          "name": "std_handle",
          "type": null
        },
        {
          "name": "cursor_info",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [],
      "variables": [],
      "start_line": 43,
      "end_line": 45
    },
    {
      "name": "test_cursor_position",
      "parameters": [
        {
          "name": "win32_console_getters",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "LegacyWindowsTerm",
        "WindowsCoordinates"
      ],
      "variables": [
        "term"
      ],
      "start_line": 59,
      "end_line": 61
    },
    {
      "name": "test_screen_size",
      "parameters": [
        {
          "name": "win32_console_getters",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "LegacyWindowsTerm",
        "WindowsCoordinates"
      ],
      "variables": [
        "term"
      ],
      "start_line": 63,
      "end_line": 67
    },
    {
      "name": "test_write_text",
      "parameters": [
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        },
        {
          "name": "capsys",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "LegacyWindowsTerm",
        "capsys.readouterr",
        "term.write_text"
      ],
      "variables": [
        "text",
        "term",
        "captured"
      ],
      "start_line": 69,
      "end_line": 76
    },
    {
      "name": "test_write_styled",
      "parameters": [
        {
          "name": "SetConsoleTextAttribute",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        },
        {
          "name": "capsys",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "LegacyWindowsTerm",
        "capsys.readouterr",
        "term.write_styled",
        "Style.parse",
        "len"
      ],
      "variables": [
        "style",
        "text",
        "term",
        "captured",
        "call_args"
      ],
      "start_line": 79,
      "end_line": 103
    },
    {
      "name": "test_write_styled_bold",
      "parameters": [
        {
          "name": "SetConsoleTextAttribute",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "term.write_styled",
        "LegacyWindowsTerm",
        "Style.parse"
      ],
      "variables": [
        "style",
        "text",
        "term",
        "call_args",
        "expected_attr"
      ],
      "start_line": 106,
      "end_line": 120
    },
    {
      "name": "test_write_styled_reverse",
      "parameters": [
        {
          "name": "SetConsoleTextAttribute",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "term.write_styled",
        "LegacyWindowsTerm",
        "Style.parse"
      ],
      "variables": [
        "style",
        "text",
        "term",
        "call_args",
        "expected_attr"
      ],
      "start_line": 123,
      "end_line": 137
    },
    {
      "name": "test_write_styled_reverse",
      "parameters": [
        {
          "name": "SetConsoleTextAttribute",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "term.write_styled",
        "LegacyWindowsTerm",
        "Style.parse"
      ],
      "variables": [
        "style",
        "text",
        "term",
        "call_args",
        "expected_attr"
      ],
      "start_line": 140,
      "end_line": 154
    },
    {
      "name": "test_write_styled_no_foreground_color",
      "parameters": [
        {
          "name": "SetConsoleTextAttribute",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "term.write_styled",
        "LegacyWindowsTerm",
        "Style.parse"
      ],
      "variables": [
        "style",
        "text",
        "term",
        "call_args",
        "expected_attr"
      ],
      "start_line": 157,
      "end_line": 171
    },
    {
      "name": "test_write_styled_no_background_color",
      "parameters": [
        {
          "name": "SetConsoleTextAttribute",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "term.write_styled",
        "LegacyWindowsTerm",
        "Style.parse"
      ],
      "variables": [
        "style",
        "text",
        "term",
        "call_args",
        "expected_attr"
      ],
      "start_line": 174,
      "end_line": 190
    },
    {
      "name": "test_erase_line",
      "parameters": [
        {
          "name": "FillConsoleOutputAttribute",
          "type": null
        },
        {
          "name": "FillConsoleOutputCharacter",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "FillConsoleOutputAttribute.assert_called_once_with",
        "LegacyWindowsTerm",
        "WindowsCoordinates",
        "term.erase_line",
        "FillConsoleOutputCharacter.assert_called_once_with"
      ],
      "variables": [
        "term",
        "start"
      ],
      "start_line": 194,
      "end_line": 208
    },
    {
      "name": "test_erase_end_of_line",
      "parameters": [
        {
          "name": "FillConsoleOutputAttribute",
          "type": null
        },
        {
          "name": "FillConsoleOutputCharacter",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "FillConsoleOutputCharacter.assert_called_once_with",
        "LegacyWindowsTerm",
        "FillConsoleOutputAttribute.assert_called_once_with",
        "term.erase_end_of_line"
      ],
      "variables": [
        "term"
      ],
      "start_line": 212,
      "end_line": 229
    },
    {
      "name": "test_erase_start_of_line",
      "parameters": [
        {
          "name": "FillConsoleOutputAttribute",
          "type": null
        },
        {
          "name": "FillConsoleOutputCharacter",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "FillConsoleOutputAttribute.assert_called_once_with",
        "LegacyWindowsTerm",
        "WindowsCoordinates",
        "FillConsoleOutputCharacter.assert_called_once_with",
        "term.erase_start_of_line"
      ],
      "variables": [
        "term",
        "start"
      ],
      "start_line": 233,
      "end_line": 249
    },
    {
      "name": "test_move_cursor_to",
      "parameters": [
        {
          "name": "SetConsoleCursorPosition",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "term.move_cursor_to",
        "LegacyWindowsTerm",
        "SetConsoleCursorPosition.assert_called_once_with",
        "WindowsCoordinates"
      ],
      "variables": [
        "coords",
        "term"
      ],
      "start_line": 252,
      "end_line": 260
    },
    {
      "name": "test_move_cursor_to_out_of_bounds_row",
      "parameters": [
        {
          "name": "SetConsoleCursorPosition",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "term.move_cursor_to",
        "LegacyWindowsTerm",
        "WindowsCoordinates"
      ],
      "variables": [
        "coords",
        "term"
      ],
      "start_line": 263,
      "end_line": 271
    },
    {
      "name": "test_move_cursor_to_out_of_bounds_col",
      "parameters": [
        {
          "name": "SetConsoleCursorPosition",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "term.move_cursor_to",
        "LegacyWindowsTerm",
        "WindowsCoordinates"
      ],
      "variables": [
        "coords",
        "term"
      ],
      "start_line": 274,
      "end_line": 282
    },
    {
      "name": "test_move_cursor_up",
      "parameters": [
        {
          "name": "SetConsoleCursorPosition",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "SetConsoleCursorPosition.assert_called_once_with",
        "LegacyWindowsTerm",
        "term.move_cursor_up",
        "WindowsCoordinates"
      ],
      "variables": [
        "term"
      ],
      "start_line": 285,
      "end_line": 294
    },
    {
      "name": "test_move_cursor_down",
      "parameters": [
        {
          "name": "SetConsoleCursorPosition",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "SetConsoleCursorPosition.assert_called_once_with",
        "LegacyWindowsTerm",
        "term.move_cursor_down",
        "WindowsCoordinates"
      ],
      "variables": [
        "term"
      ],
      "start_line": 297,
      "end_line": 306
    },
    {
      "name": "test_move_cursor_forward",
      "parameters": [
        {
          "name": "SetConsoleCursorPosition",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "LegacyWindowsTerm",
        "SetConsoleCursorPosition.assert_called_once_with",
        "term.move_cursor_forward",
        "WindowsCoordinates"
      ],
      "variables": [
        "term"
      ],
      "start_line": 309,
      "end_line": 318
    },
    {
      "name": "test_move_cursor_forward_newline_wrap",
      "parameters": [
        {
          "name": "SetConsoleCursorPosition",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "LegacyWindowsTerm",
        "WindowsCoordinates",
        "StubScreenBufferInfo",
        "SetConsoleCursorPosition.assert_called_once_with",
        "COORD",
        "term.move_cursor_forward"
      ],
      "variables": [
        "cursor_at_end_of_line",
        "term"
      ],
      "start_line": 321,
      "end_line": 335
    },
    {
      "name": "test_move_cursor_to_column",
      "parameters": [
        {
          "name": "SetConsoleCursorPosition",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "SetConsoleCursorPosition.assert_called_once_with",
        "LegacyWindowsTerm",
        "term.move_cursor_to_column",
        "WindowsCoordinates"
      ],
      "variables": [
        "term"
      ],
      "start_line": 338,
      "end_line": 345
    },
    {
      "name": "test_move_cursor_backward",
      "parameters": [
        {
          "name": "SetConsoleCursorPosition",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "LegacyWindowsTerm",
        "SetConsoleCursorPosition.assert_called_once_with",
        "term.move_cursor_backward",
        "WindowsCoordinates"
      ],
      "variables": [
        "term"
      ],
      "start_line": 348,
      "end_line": 355
    },
    {
      "name": "test_move_cursor_backward_prev_line_wrap",
      "parameters": [
        {
          "name": "SetConsoleCursorPosition",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "LegacyWindowsTerm",
        "WindowsCoordinates",
        "term.move_cursor_backward",
        "StubScreenBufferInfo",
        "SetConsoleCursorPosition.assert_called_once_with",
        "COORD"
      ],
      "variables": [
        "cursor_at_start_of_line",
        "term"
      ],
      "start_line": 358,
      "end_line": 372
    },
    {
      "name": "test_hide_cursor",
      "parameters": [
        {
          "name": "SetConsoleCursorInfo",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "len",
        "LegacyWindowsTerm",
        "term.hide_cursor"
      ],
      "variables": [
        "term",
        "call_args"
      ],
      "start_line": 375,
      "end_line": 385
    },
    {
      "name": "test_show_cursor",
      "parameters": [
        {
          "name": "SetConsoleCursorInfo",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        },
        {
          "name": "win32_handle",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "len",
        "LegacyWindowsTerm",
        "term.show_cursor"
      ],
      "variables": [
        "term",
        "call_args"
      ],
      "start_line": 388,
      "end_line": 398
    },
    {
      "name": "test_set_title",
      "parameters": [
        {
          "name": "SetConsoleTitle",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "LegacyWindowsTerm",
        "term.set_title",
        "SetConsoleTitle.assert_called_once_with"
      ],
      "variables": [
        "term"
      ],
      "start_line": 401,
      "end_line": 405
    },
    {
      "name": "test_set_title_too_long",
      "parameters": [
        {
          "name": "_",
          "type": null
        },
        {
          "name": "win32_console_getters",
          "type": null
        }
      ],
      "return_type": null,
      "docstring": null,
      "calls": [
        "LegacyWindowsTerm",
        "pytest.raises",
        "term.set_title"
      ],
      "variables": [
        "term"
      ],
      "start_line": 408,
      "end_line": 412
    }
  ],
  "variables": [
    "CURSOR_X",
    "CURSOR_Y",
    "CURSOR_POSITION",
    "SCREEN_WIDTH",
    "SCREEN_HEIGHT",
    "DEFAULT_STYLE_ATTRIBUTE",
    "CURSOR_SIZE",
    "dwCursorPosition",
    "dwSize",
    "wAttributes",
    "pytestmark",
    "coord",
    "handle",
    "term",
    "term",
    "text",
    "term",
    "captured",
    "style",
    "text",
    "term",
    "captured",
    "call_args",
    "style",
    "text",
    "term",
    "call_args",
    "expected_attr",
    "style",
    "text",
    "term",
    "call_args",
    "expected_attr",
    "style",
    "text",
    "term",
    "call_args",
    "expected_attr",
    "style",
    "text",
    "term",
    "call_args",
    "expected_attr",
    "style",
    "text",
    "term",
    "call_args",
    "expected_attr",
    "term",
    "start",
    "term",
    "term",
    "start",
    "coords",
    "term",
    "coords",
    "term",
    "coords",
    "term",
    "term",
    "term",
    "term",
    "cursor_at_end_of_line",
    "term",
    "term",
    "term",
    "cursor_at_start_of_line",
    "term",
    "term",
    "call_args",
    "term",
    "call_args",
    "term",
    "term"
  ]
}